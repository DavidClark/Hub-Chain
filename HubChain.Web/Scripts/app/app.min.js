(function(){requirejs.config({baseUrl:"../scripts",map:{"*":{ko:"knockout"}},shim:{bootstrap:["jquery"],breeze:["Q","jquery","knockout"],sinonie:["sinon"],sigr:["jquery"],"flot.time":["flot"],jqueryFileDownload:["jquery"]},paths:{sigr:"jquery.signalR-2.1.2",jquery:"jquery-2.1.3",knockout:"knockout-3.2.0","knockout.punches":"knockout.punches.min",linq:"linqjs-amd"}});require(["jquery","linq","sigr","knockout","knockout.punches"],function(a,h,i,f){var b,c,d,e,g,j,k,l,m,n;c=a.hubConnection("/signalr");d=c.createHubProxy("SuperBatch");n={values:{},latest:f.observableArray()};b=0;m=function(o){if(n.values[o.Id]){n.values[o.Id].value(o.Value);n.values[o.Id].index(o.Index);return n.values[o.Id].exception(o.Exception)}};d.on("UpdateItem",function(o){return m(o)});j=c.start();g=function(o){return d.invoke("UnsubscribeItem",o.map(function(p){return{Id:p}})).then(function(){var s,p,q,r;r=[];for(p=0,q=o.length;p<q;p++){s=o[p];n.latest.remove(n.values[s]);r.push(delete n.values[s])}return r})};e=function(s){var r,o,p,q;for(p=0,q=s.length;p<q;p++){r=s[p];(o=n.values)[r]||(o[r]=(function(){var t;t={id:r,value:f.observable("subscribing from client"),index:f.observable(-999),exception:f.observable()};n.latest.push(t);return t})())}return d.invoke("SubscribeItem",s.map(function(t){return{Id:t}})).then(function(t){return t.map(function(u){return m(u)})})};k=function(o,p){return setTimeout(function(){return e(o).then(function(){return setTimeout(function(){return l(o,p)},Math.random()*p)}).fail(function(){return setTimeout(function(){return k(o,p)},1000)})},1000*Math.random())};l=function(o,p){return g(o).then(function(){return setTimeout(function(){return k(o,p)},Math.random()*p)}).fail(function(){return setTimeout(function(){return l(o,p)},1000)})};j.done(function(){k([1876],5000);k([1801],5000);k([1876],20000);k([1855576],20000);k(["anwothersss"],5000);return k([1,2,3,4,5,6,7,8,9,0,11,12,13,14,15,16,17,18,19,20],5000)});return a(document).ready(function(){f.punches.enableAll();return f.applyBindings(n)})})}).call(this);